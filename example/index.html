<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Phaser Tilemap Extras</title>
    <style>
        #info {
            border: 1px solid black;
            width: 600px;
            margin-left: 10px;
            padding: 5px;
        }
    </style>
    <script src="assets/phaserWithAnimatedTiles.js"></script>
        <!--<script src="assets/TilemapLayer.js"></script>-->

    <script src="../src/tiled-extras.js"></script>
    <script src="../src/triggers.js"></script>
    <script src="../src/imageLayer.js"></script>
    <script src="../src/tilesetProperties.js"></script>
    <script src="game.js"></script>
    <script>
    function toggle_debug() {
        game.plugins.plugins[0].debug = !game.plugins.plugins[0].debug;
        game.debug.reset();
    }
    </script>
</head>

<body>
    <p><a href="javascript:toggle_debug();" id="debugger">Toggle debug on/off</a>
        <a href="javascript: game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL; game.scale.startFullScreen(false);">Fullscreen</a>
    </p>
    <div id='phaser-example' style='float: left;'></div>
    <div style='width: 320px; float:left'>

        <div id="info">
            <b>Demo features</b>
            <br>
            Controls: Arrow keys (up for jump)
            <br>
            <br>
            <b>Image layers</b>
            <br>
            <ul>
                <li>The two cloud layers are using the same image but has different opacity/alpha, parallax ratio, scale and velocity set in properties in Tiled. (The wavy movement is done with at tween from the game)</li>
                <li>The SMB3-boxy-background-layer is locked to it's coordinates vertically but is repeated horizontally with a parallax ratio, all configured by properties in Tiled.</li>
                <li>There is one invisible layer (opacity/alpha set to 0). A trigger can set it to alpha = 1.</li>
            </ul>
            <b>Triggers</b>
            <ul>
                <li>If exactly two objects stays the area under the "cloud box", coins will show up above (try to push the blocks!). If the test fails (less or more than 2 objects), the coins will go away again. (This trigger is broken at the moment, and I havn't had time to check why)</li>
                <li>If you jump clockwise a few times around the block to the left of Mario at the starting position, something will happen. If you break the loop you'll have to start over.</li>
            </ul>
            <b>Collision set by tile properties</b>
            <ul>
                <li>All collision data are defined by tile properties.</li>
                <li>A collison layer with all layers' collision data combined is created by Phaser.Tilemap.prototype.setCollisionLayer. (There is only one layer with collision data from the beginning as well, but you get the idea...)</li>
                <li>The animated arrows cannot be passed against the direction of the arrow. This is set as tile properties in Tiled, and the collision data will adapt if a tile is rotated/flipped.</li>
            </ul>
            <b>Animated tiles</b>
            A fork allowing animated tiles is used for the demo. If the pull-request for this feature to Phaser is denied, the feature will be added to this plugin instead.
        </div>

        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-2875679-14', 'auto');
        ga('send', 'pageview');

        </script>
</body>

</html>
